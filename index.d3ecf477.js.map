{"mappings":"C,A,W,I,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,M,C,I,W,O,C,E,I,K,E,W,C,E,a,C,C,GCAO,IAAM,EAAM,CACjB,MAAO,SAAS,gBAAgB,CAAC,SACjC,cAAe,SAAS,aAAa,CAAC,oBACtC,eAAgB,SAAS,aAAa,CAAC,kBACvC,UAAW,SAAS,aAAa,CAAC,iBAClC,SAAU,SAAS,aAAa,CAAC,gBACjC,QAAS,SAAS,aAAa,CAAC,gBAChC,WAAY,SAAS,aAAa,CAAC,UACnC,kBAAmB,SAAS,aAAa,CAAC,kBAC1C,YAAa,SAAS,eAAe,CACrC,QAAS,SAAS,aAAa,CAAC,cAChC,SAAU,SAAS,aAAa,CAAC,cACnC,C,G,I,E,E,S,E,C,ESZA,SAAS,EAAqB,CAAG,CAAE,CAAG,EAC9B,CAAA,AAAO,MAAP,GAAe,EAAM,EAAI,MAAM,AAAN,GAAQ,CAAA,EAAM,EAAI,MAAM,AAAN,EAE/C,IAAK,IAAI,EAAI,EAAG,EAAO,AAAI,MAAM,GAAM,EAAI,EAAK,IAAK,CAAI,CAAC,EAAE,CAAG,CAAG,CAAC,EAAE,CAErE,OAAO,CACX,CFDA,SAAS,EAAqB,CAAG,EAC7B,OAAO,ACJX,SAA8B,CAAG,EAC7B,GAAI,MAAM,OAAO,CAAC,GAAM,OAAO,AAAA,EAAqB,EACxD,EDEgC,IAAQ,AGNxC,SAA4B,CAAI,EAC5B,GAAI,AAAkB,aAAlB,OAAO,QAA0B,AAAyB,MAAzB,CAAI,CAAC,OAAO,QAAQ,CAAC,EAAY,AAAsB,MAAtB,CAAI,CAAC,aAAa,CACpF,OAAO,MAAM,IAAI,CAAC,EAE1B,EHE2D,IAAQ,AKJnE,SAAwC,CAAC,CAAE,CAAM,EAC7C,GAAK,GACL,GAAI,AAAa,UAAb,OAAO,EAAgB,OAAO,AAAA,EAAqB,EAFhB,KAAA,GAIvC,IAAI,EAAI,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,EAAG,IAGnD,GADU,WAAN,GAAkB,EAAE,WAAW,EAAE,CAAA,EAAI,EAAE,WAAW,CAAC,IAAI,AAAJ,EACnD,AAAM,QAAN,GAAe,AAAM,QAAN,EAAa,OAAO,MAAM,IAAI,CAAC,GAClD,GAAI,AAAM,cAAN,GAAqB,2CAA2C,IAAI,CAAC,GAAI,OAAO,AAAA,EAAqB,EARlE,KAAA,GAS3C,ELLkG,IAAQ,AIN1G,WACI,MAAM,AAAI,UAAU,uIACxB,GJKA,CHoKA,EAzKA,eESoC,EFT9B,SAAA,IAEF,IAAA,EAAA,UAAA,MAAA,CAAA,GAAA,AAAA,KAAA,IAAA,SAAA,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAe,CACb,CAAC,EAAG,EAAG,EAAG,EAAE,CACZ,CAAC,EAAG,EAAG,EAAG,EAAE,CACZ,CAAC,EAAG,EAAG,EAAG,EAAE,CACZ,CAAC,EAAG,EAAG,EAAG,EAAE,CACb,EAPC,ACFN,SAA2B,CAAQ,CAAE,CAAW,EAC5C,GAAI,CAAE,CAAA,aAAoB,CAAA,EAAc,MAAM,AAAI,UAAU,oCAChE,EDAM,IAAA,CAAA,GASF,IAAI,CAAC,YAAY,CAAG,IAAI,CAAC,SAAS,CAAC,GACnC,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,CAAC,GAC5B,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,MAAM,CAAG,M,CAZZ,OES8B,EFT9B,C,CAeJ,IAAA,WAAA,MAAA,WACE,OAAO,IAAI,CAAC,KAAK,AACnB,C,E,CAEA,IAAA,WAAA,MAAA,WACE,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAClC,C,E,CAEA,IAAA,YAAA,MAAA,WACE,OAAO,IAAI,CAAC,MAAM,AACpB,C,E,CAEA,IAAA,QAAA,MAAA,WACE,IAAI,CAAC,MAAM,CAAG,UACd,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAC7C,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,aAAa,EACpB,C,E,CAEA,IAAA,UAAA,MAAA,WACE,IAAI,CAAC,MAAM,CAAG,OACd,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAC7C,IAAI,CAAC,KAAK,CAAG,CACf,C,E,CAEA,IAAA,WAAA,MAAA,W,I,E,I,CACE,IAAI,CAAC,WAAW,CAAC,SAAC,CAAlB,EAA4B,OAAA,EAAK,KAAK,CAAC,E,EACzC,C,E,CAEA,IAAA,YAAA,MAAA,W,I,E,I,CACE,IAAI,CAAC,WAAW,CAAC,SAAC,CAAlB,EAA4B,OAAA,EAAK,OAAO,CAAC,EAAK,KAAK,CAAC,EAAK,OAAO,CAAC,I,EACnE,C,E,CAEA,IAAA,SAAA,MAAA,W,I,E,I,CACE,IAAI,CAAC,WAAW,CAAC,SAAC,CAAlB,EACE,IAAM,EAAa,EAAK,SAAS,CAAC,GAC5B,EAAS,EAAK,KAAK,CAAC,GAE1B,OAAO,EAAK,SAAS,CAAC,EACxB,EACF,C,E,CAEA,IAAA,WAAA,MAAA,W,I,E,I,CACE,IAAI,CAAC,WAAW,CAAC,SAAC,CAAlB,EACE,IAAM,EAAa,EAAK,SAAS,CAAC,GAC5B,EAAW,EAAK,OAAO,CAAC,GACxB,EAAS,EAAK,KAAK,CAAC,GACpB,EAAW,EAAK,OAAO,CAAC,GAE9B,OAAO,EAAK,SAAS,CAAC,EACxB,EACF,C,E,CAEA,IAAA,cAAA,MAAA,SAAY,CAAM,EAChB,GAAI,AAAgB,YAAhB,IAAI,CAAC,MAAM,EAIf,IAAM,EAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAE3C,CAAA,IAAI,CAAC,KAAK,CAAG,EAAO,IAAI,CAAC,KAAK,EAEzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAE,IACnC,IAAI,CAAC,aAAa,GAGhB,IAAI,CAAC,OAAO,GACd,IAAI,CAAC,MAAM,CAAG,MACL,IAAI,CAAC,UAAU,IACxB,CAAA,IAAI,CAAC,MAAM,CAAG,MADT,EAGT,C,E,CAEA,IAAA,iBAAA,MAAA,SAAe,CAAE,CAAE,CAAE,EACnB,OAAO,EAAG,KAAK,CAAC,SAAC,CAAA,CAAK,CAAtB,EAA4B,OAAA,EAAI,KAAK,CAAC,SAAC,CAAA,CAAK,CAAhB,EAAsB,OAAA,IAAQ,CAAE,CAAC,EAAE,CAAC,EAAE,A,E,EACpE,C,E,CAEA,IAAA,QAAA,MAAA,SAAM,CAAK,E,I,E,I,CACT,OAAO,EAAM,GAAG,CAAC,SAAC,CAAlB,EAGE,IAAK,IAFC,EAAW,EAAI,MAAM,CAAC,SAAC,CAA7B,EAAmC,OAAA,AAAM,IAAN,C,GAE1B,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,IACnC,CAAQ,CAAC,EAAE,GAAK,CAAQ,CAAC,EAAI,EAAE,GACjC,CAAQ,CAAC,EAAE,EAAI,EACf,EAAK,KAAK,EAAI,CAAQ,CAAC,EAAE,CACzB,EAAS,MAAM,CAAC,EAAI,EAAG,IAI3B,KAAO,EAAS,MAAM,CAAG,GACvB,EAAS,IAAI,CAAC,GAGhB,OAAO,CACT,EACF,C,E,CAEA,IAAA,YAAA,MAAA,SAAU,CAAK,EACb,OAAO,CAAK,CAAC,EAAE,CAAC,GAAG,CAAC,SAAC,CAAA,CAAG,CAAxB,EAAgC,OAAA,EAAM,GAAG,CAAC,SAAC,CAAX,EAAmB,OAAA,CAAG,CAAC,EAAI,A,E,EAC7D,C,E,CAEA,IAAA,UAAA,MAAA,SAAQ,CAAK,EACX,OAAO,EAAM,GAAG,CAAC,SAAC,CAAlB,EAA0B,OAAC,AAAA,EAAG,GAAK,OAAO,E,EAC5C,C,E,CAEA,IAAA,YAAA,MAAA,SAAU,CAAK,EACb,OAAO,EAAM,GAAG,CAAC,SAAC,CAAlB,EAA2B,OAAA,AAAA,EAAG,E,EAChC,C,E,CAEA,IAAA,gBAAA,MAAA,WAGE,IAAK,IAFC,EAAQ,EAAE,CAEP,EAAI,EAAG,EAAI,EAAG,IACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,IACI,IAArB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,EAClB,EAAM,IAAI,CAAC,CAAE,EAAA,EAAG,EAAA,CAAE,GAKxB,GAAI,EAAM,MAAM,CAAG,EAAG,CACpB,IAAiB,EAAA,CAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,GAAK,EAAM,MAAM,EAAE,CAAxD,EAAS,EAAT,CAAA,CAAG,EAAM,EAAN,CAAX,AAEA,CAAA,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAG,AAAgB,GAAhB,KAAK,MAAM,GAAW,EAAI,CAC/C,CACF,C,E,CAEA,IAAA,UAAA,MAAA,WACE,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,KACpC,C,E,CAEA,IAAA,aAAA,MAAA,WACE,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,GAC7B,MAAO,CAAA,EAGT,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,IACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,IAAK,CAC1B,IAAM,EAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAE7B,GACE,EAAK,GAAK,IAAS,IAAI,CAAC,KAAK,CAAC,EAAI,EAAE,CAAC,EAAE,EACtC,EAAI,GAAK,IAAS,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAI,EAAE,CAEvC,MAAO,CAAA,CAEX,CAGF,MAAO,CAAA,CACT,C,E,CE5JkB,AAZpB,SAA2B,CAAM,CAAE,CAAK,EACpC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAK,CACnC,IAAI,EAAa,CAAK,CAAC,EAAE,AACzB,CAAA,EAAW,UAAU,CAAG,EAAW,UAAU,EAAI,CAAA,EACjD,EAAW,YAAY,CAAG,CAAA,EAEtB,UAAW,GAAY,CAAA,EAAW,QAAQ,CAAG,CAAA,CAAjD,EAEA,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EAEsC,AFVhC,EEU4C,SAAS,CAAE,GFVvD,C,I,I,E,E,SSAF,EAAY,EAAE,CAEX,SAAS,EAAY,CAAI,EAC9B,IAoCM,EApCA,EAAQ,EAAK,QAAQ,GACrB,EAAY,EAAM,IAAI,GACtB,EAAW,EAAU,IAAI,GAE/B,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,KAAK,CAAC,OAAO,CAAC,SAAC,CAAA,CAAM,CAAzB,EACE,IAAM,EAAM,CAAS,CAAC,EAAM,CACtB,EAAO,CAAQ,CAAC,EAAM,CAI5B,GAFA,EAAK,SAAS,CAAG,aAEb,EAAK,CACP,IAAM,EAAS,OAAO,GAAK,MAAM,CAEjC,EAAK,KAAK,CAAC,WAAW,CAAC,WAAY,GACnC,EAAK,WAAW,CAAG,EACnB,EAAK,SAAS,CAAC,GAAG,CAAE,eAAkB,MAAA,CAAJ,IAE9B,AAAS,IAAT,GAAc,AAAQ,IAAR,EAChB,EAAK,SAAS,CAAC,GAAG,CAAC,mBACV,GAAQ,EAAM,GACvB,EAAK,SAAS,CAAC,GAAG,CAAC,qBAEvB,MACE,EAAK,WAAW,CAAG,GACnB,EAAK,KAAK,CAAC,WAAW,CAAC,WAAY,EAEvC,GAEA,EAAY,EAAM,GAAG,CAAC,SAAC,CAAvB,EAAgC,OAAA,AAAA,EAAG,E,GAEnC,AAAA,EAAA,GAAE,CAAE,SAAS,CAAC,WAAW,CAAG,EAAK,QAAQ,GACzC,AAyBK,WAAoB,IAAA,EAAA,UAAA,MAAA,CAAA,GAAA,AAAA,KAAA,IAAA,SAAA,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAQ,EAC3B,EAAY,OAAO,aAAa,OAAO,CAAC,gBAAkB,CAE5D,CAAA,EAAQ,GACV,aAAa,OAAO,CAAC,aAAc,GACnC,AAAA,EAAA,GAAE,CAAE,QAAQ,CAAC,WAAW,CAAG,GAE3B,AAAA,EAAA,GAAE,CAAE,QAAQ,CAAC,WAAW,CAAG,CAE/B,EAlCa,EAAK,QAAQ,IAOpB,AAAe,SAFb,EAAa,AAJH,EAIQ,SAAS,IAG/B,EAAY,kCACH,AAAe,SAAf,EACT,EAAY,+BAEZ,GAVJ,CAcO,SAAS,EAAY,CAAI,EAC9B,AAAA,EAAA,GAAE,CAAE,OAAO,CAAC,WAAW,CAAG,EAC1B,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,SAClC,CAEO,SAAS,IACd,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,SAC/B,CVxDO,IAAM,EAAO,G,C,C,EAAI,I,E,U,C,E,O,C,C,EAOjB,SAAS,IACd,EAAK,OAAO,GACZ,EAAK,KAAK,GACV,AAAA,IACA,AAAA,EAAY,EACd,CWsBA,IAAI,EAAc,EACd,EAAc,EXhChB,EAAK,KAAK,GACV,AAAA,EAAY,GDFZ,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,aAAa,CAAC,gBAAgB,CAAC,QAAS,GAC5C,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,cAAc,CAAC,gBAAgB,CAAC,QAAS,GAE7C,OAAO,gBAAgB,CAAC,UYLnB,SAAuB,CAAC,EAc7B,IAAM,EAAS,AAbC,CACd,UAAW,WACX,EAAG,WACH,WAAY,YACZ,EAAG,YACH,QAAS,SACT,EAAG,SACH,UAAW,WACX,EAAG,WACH,EAAG,UACH,EAAG,SACL,CAEsB,CAAC,EAAE,GAAG,CAAC,CAE7B,GAAK,GAIL,GAAI,AAAW,YAAX,EAAsB,CACxB,AAAA,IAEA,MACF,CAEyB,YAArB,AAAA,EAAK,SAAS,KAIlB,AAAA,CAAI,CAAC,EAAO,GACZ,AAAA,EAAY,IACd,GZ1BE,OAAO,gBAAgB,CAAC,aYgCnB,SAA0B,CAAC,EAChC,IAAM,EAAQ,EAAE,OAAO,CAAC,EAAE,CAE1B,EAAc,EAAM,OAAO,CAC3B,EAAc,EAAM,OAAO,AAC7B,EZrC0D,CAAE,QAAS,CAAA,CAAK,GACxE,OAAO,gBAAgB,CAAC,WYsCnB,SAAwB,CAAC,EAC9B,IAAM,EAAQ,EAAE,cAAc,CAAC,EAAE,CAC3B,EAAS,EAAM,OAAO,CAAG,EACzB,EAAS,EAAM,OAAO,CAAG,EAEzB,EAAO,KAAK,GAAG,CAAC,GAChB,EAAO,KAAK,GAAG,CAAC,EAfA,CAAA,GAkBpB,KAAK,GAAG,CAAC,EAAM,IACf,AAAqB,YAArB,AAAA,EAAK,SAAS,KAKZ,EAAO,EACL,EAAS,EACX,AAAA,EAAK,SAAS,GAEd,AAAA,EAAK,QAAQ,GAGX,EAAS,EACX,AAAA,EAAK,QAAQ,GAEb,AAAA,EAAK,MAAM,GAIf,AAAA,EAAY,GACd,EZpEsD,CAAE,QAAS,CAAA,CAAK,E","sources":["<anon>","src/scripts/ui/dom.js","src/scripts/main.js","src/scripts/ui/events.js","src/scripts/core/gameManager.js","src/modules/Game.class.js","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_create_class.js","node_modules/@swc/helpers/esm/_to_consumable_array.js","node_modules/@swc/helpers/esm/_array_without_holes.js","node_modules/@swc/helpers/esm/_array_like_to_array.js","node_modules/@swc/helpers/esm/_iterable_to_array.js","node_modules/@swc/helpers/esm/_non_iterable_spread.js","node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js","src/scripts/ui/render.js","src/scripts/ui/controls.js"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire7b01\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire7b01\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"f0vaO\", function(module, exports) {\n\n$parcel$export(module.exports, \"DOM\", function () { return $aecf097799c7468e$export$cb0933279c36a66b; });\nvar $aecf097799c7468e$export$cb0933279c36a66b = {\n    cells: document.querySelectorAll(\".tile\"),\n    newGameButton: document.querySelector(\".button--restart\"),\n    tryAgainButton: document.querySelector(\".popup__button\"),\n    scoreSpan: document.querySelector(\".stats__score\"),\n    bestSpan: document.querySelector(\".stats__best\"),\n    message: document.querySelector(\".popup__text\"),\n    messageBox: document.querySelector(\".popup\"),\n    themeToggleButton: document.querySelector(\".button--theme\"),\n    htmlElement: document.documentElement,\n    iconSun: document.querySelector(\".icon--sun\"),\n    iconMoon: document.querySelector(\".icon--moon\")\n};\n\n});\n\n\nvar $f0vaO = parcelRequire(\"f0vaO\");\nvar $3d28d7f1aac198f5$exports = {};\nfunction $8713978b2328d32b$export$71511d61b312f219(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n\nfunction $4fc75ccb937ab1df$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $4fc75ccb937ab1df$export$71511d61b312f219(Constructor, protoProps, staticProps) {\n    if (protoProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n\nfunction $c3b10a83b523f372$export$71511d61b312f219(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n\nfunction $c50969dc1df61e8b$export$71511d61b312f219(arr) {\n    if (Array.isArray(arr)) return (0, $c3b10a83b523f372$export$71511d61b312f219)(arr);\n}\n\n\nfunction $09c9f293d010c0e1$export$71511d61b312f219(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n\nfunction $38c2d4931cb7a7c4$export$71511d61b312f219() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\nfunction $d4f69c5c6c4654b1$export$71511d61b312f219(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, $c3b10a83b523f372$export$71511d61b312f219)(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, $c3b10a83b523f372$export$71511d61b312f219)(o, minLen);\n}\n\n\nfunction $227c6742e0ff6f82$export$71511d61b312f219(arr) {\n    return (0, $c50969dc1df61e8b$export$71511d61b312f219)(arr) || (0, $09c9f293d010c0e1$export$71511d61b312f219)(arr) || (0, $d4f69c5c6c4654b1$export$71511d61b312f219)(arr) || (0, $38c2d4931cb7a7c4$export$71511d61b312f219)();\n}\n\n\n\"use strict\";\nvar $3d28d7f1aac198f5$var$Game = /*#__PURE__*/ function() {\n    function Game() {\n        var initialState = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ]\n        ];\n        (0, $8713978b2328d32b$export$71511d61b312f219)(this, Game);\n        this.initialState = this.copyBoard(initialState);\n        this.board = this.copyBoard(initialState);\n        this.score = 0;\n        this.status = \"idle\";\n    }\n    (0, $4fc75ccb937ab1df$export$71511d61b312f219)(Game, [\n        {\n            key: \"getScore\",\n            value: function getScore() {\n                return this.score;\n            }\n        },\n        {\n            key: \"getState\",\n            value: function getState() {\n                return this.copyBoard(this.board);\n            }\n        },\n        {\n            key: \"getStatus\",\n            value: function getStatus() {\n                return this.status;\n            }\n        },\n        {\n            key: \"start\",\n            value: function start() {\n                this.status = \"playing\";\n                this.board = this.copyBoard(this.initialState);\n                this.score = 0;\n                this.addRandomTile();\n                this.addRandomTile();\n            }\n        },\n        {\n            key: \"restart\",\n            value: function restart() {\n                this.status = \"idle\";\n                this.board = this.copyBoard(this.initialState);\n                this.score = 0;\n            }\n        },\n        {\n            key: \"moveLeft\",\n            value: function moveLeft() {\n                var _this = this;\n                this.performMove(function(board) {\n                    return _this.merge(board);\n                });\n            }\n        },\n        {\n            key: \"moveRight\",\n            value: function moveRight() {\n                var _this = this;\n                this.performMove(function(board) {\n                    return _this.reverse(_this.merge(_this.reverse(board)));\n                });\n            }\n        },\n        {\n            key: \"moveUp\",\n            value: function moveUp() {\n                var _this = this;\n                this.performMove(function(board) {\n                    var transposed = _this.transpose(board);\n                    var merged = _this.merge(transposed);\n                    return _this.transpose(merged);\n                });\n            }\n        },\n        {\n            key: \"moveDown\",\n            value: function moveDown() {\n                var _this = this;\n                this.performMove(function(board) {\n                    var transposed = _this.transpose(board);\n                    var reversed = _this.reverse(transposed);\n                    var merged = _this.merge(reversed);\n                    var restored = _this.reverse(merged);\n                    return _this.transpose(restored);\n                });\n            }\n        },\n        {\n            key: \"performMove\",\n            value: function performMove(moveFn) {\n                if (this.status !== \"playing\") return;\n                var prevBoard = this.copyBoard(this.board);\n                this.board = moveFn(this.board);\n                if (!this.areBoardsEqual(this.board, prevBoard)) this.addRandomTile();\n                if (this.has2048()) this.status = \"win\";\n                else if (this.isGameOver()) this.status = \"lose\";\n            }\n        },\n        {\n            key: \"areBoardsEqual\",\n            value: function areBoardsEqual(b1, b2) {\n                return b1.every(function(row, r) {\n                    return row.every(function(val, c) {\n                        return val === b2[r][c];\n                    });\n                });\n            }\n        },\n        {\n            key: \"merge\",\n            value: function merge(board) {\n                var _this = this;\n                return board.map(function(row) {\n                    var filtered = row.filter(function(n) {\n                        return n !== 0;\n                    });\n                    for(var i = 0; i < filtered.length - 1; i++)if (filtered[i] === filtered[i + 1]) {\n                        filtered[i] *= 2;\n                        _this.score += filtered[i];\n                        filtered.splice(i + 1, 1);\n                    }\n                    while(filtered.length < 4)filtered.push(0);\n                    return filtered;\n                });\n            }\n        },\n        {\n            key: \"transpose\",\n            value: function transpose(board) {\n                return board[0].map(function(_, col) {\n                    return board.map(function(row) {\n                        return row[col];\n                    });\n                });\n            }\n        },\n        {\n            key: \"reverse\",\n            value: function reverse(board) {\n                return board.map(function(row) {\n                    return (0, $227c6742e0ff6f82$export$71511d61b312f219)(row).reverse();\n                });\n            }\n        },\n        {\n            key: \"copyBoard\",\n            value: function copyBoard(board) {\n                return board.map(function(row) {\n                    return (0, $227c6742e0ff6f82$export$71511d61b312f219)(row);\n                });\n            }\n        },\n        {\n            key: \"addRandomTile\",\n            value: function addRandomTile() {\n                var empty = [];\n                for(var r = 0; r < 4; r++){\n                    for(var c = 0; c < 4; c++)if (this.board[r][c] === 0) empty.push({\n                        r: r,\n                        c: c\n                    });\n                }\n                if (empty.length > 0) {\n                    var _empty_Math_floor = empty[Math.floor(Math.random() * empty.length)], r1 = _empty_Math_floor.r, c1 = _empty_Math_floor.c;\n                    this.board[r1][c1] = Math.random() < 0.9 ? 2 : 4;\n                }\n            }\n        },\n        {\n            key: \"has2048\",\n            value: function has2048() {\n                return this.board.flat().includes(2048);\n            }\n        },\n        {\n            key: \"isGameOver\",\n            value: function isGameOver() {\n                if (this.board.flat().includes(0)) return false;\n                for(var r = 0; r < 4; r++)for(var c = 0; c < 4; c++){\n                    var curr = this.board[r][c];\n                    if (r < 3 && curr === this.board[r + 1][c] || c < 3 && curr === this.board[r][c + 1]) return false;\n                }\n                return true;\n            }\n        }\n    ]);\n    return Game;\n}();\n$3d28d7f1aac198f5$exports = $3d28d7f1aac198f5$var$Game;\n\n\n\n\nvar $f0vaO = parcelRequire(\"f0vaO\");\nvar $ecd9f0b56f346062$var$lastBoard = [];\nfunction $ecd9f0b56f346062$export$ed9055c26739410b(game) {\n    var board = game.getState();\n    var flatBoard = board.flat();\n    var flatLast = $ecd9f0b56f346062$var$lastBoard.flat();\n    (0, $f0vaO.DOM).cells.forEach(function(cell, index) {\n        var val = flatBoard[index];\n        var prev = flatLast[index];\n        cell.className = \"field-cell\";\n        if (val) {\n            var digits = String(val).length;\n            cell.style.setProperty(\"--digits\", digits);\n            cell.textContent = val;\n            cell.classList.add(\"field-cell--\".concat(val));\n            if (prev === 0 && val !== 0) cell.classList.add(\"field-cell--new\");\n            else if (prev && val > prev) cell.classList.add(\"field-cell--merged\");\n        } else {\n            cell.textContent = \"\";\n            cell.style.setProperty(\"--digits\", 1);\n        }\n    });\n    $ecd9f0b56f346062$var$lastBoard = board.map(function(row) {\n        return (0, $227c6742e0ff6f82$export$71511d61b312f219)(row);\n    });\n    (0, $f0vaO.DOM).scoreSpan.textContent = game.getScore();\n    $ecd9f0b56f346062$export$a0659029c09c6c24(game.getScore());\n    $ecd9f0b56f346062$export$7720291ca6f99335(game);\n}\nfunction $ecd9f0b56f346062$export$7720291ca6f99335(game) {\n    var gameStatus = game.getStatus();\n    if (gameStatus === \"win\") $ecd9f0b56f346062$export$787f5d117f138d13(\"\\uD83C\\uDF89 Winner! Congrats!\");\n    else if (gameStatus === \"lose\") $ecd9f0b56f346062$export$787f5d117f138d13(\"You lose! Restart the game?\");\n    else $ecd9f0b56f346062$export$4521d214801a3d3b();\n}\nfunction $ecd9f0b56f346062$export$787f5d117f138d13(text) {\n    (0, $f0vaO.DOM).message.textContent = text;\n    (0, $f0vaO.DOM).messageBox.classList.remove(\"hidden\");\n}\nfunction $ecd9f0b56f346062$export$4521d214801a3d3b() {\n    (0, $f0vaO.DOM).messageBox.classList.add(\"hidden\");\n}\nfunction $ecd9f0b56f346062$export$a0659029c09c6c24() {\n    var score = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n    var bestScore = Number(localStorage.getItem(\"best-score\")) || 0;\n    if (score > bestScore) {\n        localStorage.setItem(\"best-score\", score);\n        (0, $f0vaO.DOM).bestSpan.textContent = score;\n    } else (0, $f0vaO.DOM).bestSpan.textContent = bestScore;\n}\n\n\nvar $13a93d600d1f92c9$export$119d2a93e2780362 = new (0, (/*@__PURE__*/$parcel$interopDefault($3d28d7f1aac198f5$exports)))();\nfunction $13a93d600d1f92c9$export$5f9f2982725d71d5() {\n    $13a93d600d1f92c9$export$119d2a93e2780362.start();\n    (0, $ecd9f0b56f346062$export$ed9055c26739410b)($13a93d600d1f92c9$export$119d2a93e2780362);\n}\nfunction $13a93d600d1f92c9$export$13063a66817085c1() {\n    $13a93d600d1f92c9$export$119d2a93e2780362.restart();\n    $13a93d600d1f92c9$export$119d2a93e2780362.start();\n    (0, $ecd9f0b56f346062$export$4521d214801a3d3b)();\n    (0, $ecd9f0b56f346062$export$ed9055c26739410b)($13a93d600d1f92c9$export$119d2a93e2780362);\n}\n\n\n\n\nfunction $7d99baaea0d38f94$export$b70eff784f2f99b(e) {\n    var actions = {\n        ArrowLeft: \"moveLeft\",\n        a: \"moveLeft\",\n        ArrowRight: \"moveRight\",\n        d: \"moveRight\",\n        ArrowUp: \"moveUp\",\n        w: \"moveUp\",\n        ArrowDown: \"moveDown\",\n        s: \"moveDown\",\n        n: \"restart\",\n        r: \"restart\"\n    };\n    var action = actions[e.key];\n    if (!action) return;\n    if (action === \"restart\") {\n        (0, $13a93d600d1f92c9$export$13063a66817085c1)();\n        return;\n    }\n    if ((0, $13a93d600d1f92c9$export$119d2a93e2780362).getStatus() !== \"playing\") return;\n    (0, $13a93d600d1f92c9$export$119d2a93e2780362)[action]();\n    (0, $ecd9f0b56f346062$export$ed9055c26739410b)((0, $13a93d600d1f92c9$export$119d2a93e2780362));\n}\nvar $7d99baaea0d38f94$var$touchStartX = 0;\nvar $7d99baaea0d38f94$var$touchStartY = 0;\nvar $7d99baaea0d38f94$var$SWIPE_THRESHOLD = 30;\nfunction $7d99baaea0d38f94$export$f11d8654acca7032(e) {\n    var touch = e.touches[0];\n    $7d99baaea0d38f94$var$touchStartX = touch.clientX;\n    $7d99baaea0d38f94$var$touchStartY = touch.clientY;\n}\nfunction $7d99baaea0d38f94$export$fb9a88086a633776(e) {\n    var touch = e.changedTouches[0];\n    var deltaX = touch.clientX - $7d99baaea0d38f94$var$touchStartX;\n    var deltaY = touch.clientY - $7d99baaea0d38f94$var$touchStartY;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n    if (Math.max(absX, absY) < $7d99baaea0d38f94$var$SWIPE_THRESHOLD || (0, $13a93d600d1f92c9$export$119d2a93e2780362).getStatus() !== \"playing\") return;\n    if (absX > absY) {\n        if (deltaX > 0) (0, $13a93d600d1f92c9$export$119d2a93e2780362).moveRight();\n        else (0, $13a93d600d1f92c9$export$119d2a93e2780362).moveLeft();\n    } else if (deltaY > 0) (0, $13a93d600d1f92c9$export$119d2a93e2780362).moveDown();\n    else (0, $13a93d600d1f92c9$export$119d2a93e2780362).moveUp();\n    (0, $ecd9f0b56f346062$export$ed9055c26739410b)((0, $13a93d600d1f92c9$export$119d2a93e2780362));\n}\n\n\nfunction $c2a17ccfd537ee5a$export$c7fc3d77edeab91a() {\n    (0, $f0vaO.DOM).newGameButton.addEventListener(\"click\", (0, $13a93d600d1f92c9$export$13063a66817085c1));\n    (0, $f0vaO.DOM).tryAgainButton.addEventListener(\"click\", (0, $13a93d600d1f92c9$export$13063a66817085c1));\n    window.addEventListener(\"keydown\", (0, $7d99baaea0d38f94$export$b70eff784f2f99b));\n    window.addEventListener(\"touchstart\", (0, $7d99baaea0d38f94$export$f11d8654acca7032), {\n        passive: true\n    });\n    window.addEventListener(\"touchend\", (0, $7d99baaea0d38f94$export$fb9a88086a633776), {\n        passive: true\n    });\n}\n\n\n\n(0, $13a93d600d1f92c9$export$5f9f2982725d71d5)();\n(0, $c2a17ccfd537ee5a$export$c7fc3d77edeab91a)();\n\n})();\n//# sourceMappingURL=index.d3ecf477.js.map\n","export const DOM = {\n  cells: document.querySelectorAll('.tile'),\n  newGameButton: document.querySelector('.button--restart'),\n  tryAgainButton: document.querySelector('.popup__button'),\n  scoreSpan: document.querySelector('.stats__score'),\n  bestSpan: document.querySelector('.stats__best'),\n  message: document.querySelector('.popup__text'),\n  messageBox: document.querySelector('.popup'),\n  themeToggleButton: document.querySelector('.button--theme'),\n  htmlElement: document.documentElement,\n  iconSun: document.querySelector('.icon--sun'),\n  iconMoon: document.querySelector('.icon--moon'),\n};\n","import { initEvents } from './ui/events.js';\nimport { startGame } from './core/gameManager.js';\n\nstartGame();\ninitEvents();\n","import { DOM } from './dom.js';\nimport { restartGame } from '../core/gameManager.js';\nimport { handleKeydown, handleTouchStart, handleTouchEnd } from './controls.js';\n\nexport function initEvents() {\n  DOM.newGameButton.addEventListener('click', restartGame);\n  DOM.tryAgainButton.addEventListener('click', restartGame);\n\n  window.addEventListener('keydown', handleKeydown);\n  window.addEventListener('touchstart', handleTouchStart, { passive: true });\n  window.addEventListener('touchend', handleTouchEnd, { passive: true });\n}\n","import Game from '../../modules/Game.class.js';\nimport { renderBoard, hideMessage } from '../ui/render.js';\n\nexport const game = new Game();\n\nexport function startGame() {\n  game.start();\n  renderBoard(game);\n}\n\nexport function restartGame() {\n  game.restart();\n  game.start();\n  hideMessage();\n  renderBoard(game);\n}\n","'use strict';\n\nclass Game {\n  constructor(\n    initialState = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ],\n  ) {\n    this.initialState = this.copyBoard(initialState);\n    this.board = this.copyBoard(initialState);\n    this.score = 0;\n    this.status = 'idle';\n  }\n\n  getScore() {\n    return this.score;\n  }\n\n  getState() {\n    return this.copyBoard(this.board);\n  }\n\n  getStatus() {\n    return this.status;\n  }\n\n  start() {\n    this.status = 'playing';\n    this.board = this.copyBoard(this.initialState);\n    this.score = 0;\n    this.addRandomTile();\n    this.addRandomTile();\n  }\n\n  restart() {\n    this.status = 'idle';\n    this.board = this.copyBoard(this.initialState);\n    this.score = 0;\n  }\n\n  moveLeft() {\n    this.performMove((board) => this.merge(board));\n  }\n\n  moveRight() {\n    this.performMove((board) => this.reverse(this.merge(this.reverse(board))));\n  }\n\n  moveUp() {\n    this.performMove((board) => {\n      const transposed = this.transpose(board);\n      const merged = this.merge(transposed);\n\n      return this.transpose(merged);\n    });\n  }\n\n  moveDown() {\n    this.performMove((board) => {\n      const transposed = this.transpose(board);\n      const reversed = this.reverse(transposed);\n      const merged = this.merge(reversed);\n      const restored = this.reverse(merged);\n\n      return this.transpose(restored);\n    });\n  }\n\n  performMove(moveFn) {\n    if (this.status !== 'playing') {\n      return;\n    }\n\n    const prevBoard = this.copyBoard(this.board);\n\n    this.board = moveFn(this.board);\n\n    if (!this.areBoardsEqual(this.board, prevBoard)) {\n      this.addRandomTile();\n    }\n\n    if (this.has2048()) {\n      this.status = 'win';\n    } else if (this.isGameOver()) {\n      this.status = 'lose';\n    }\n  }\n\n  areBoardsEqual(b1, b2) {\n    return b1.every((row, r) => row.every((val, c) => val === b2[r][c]));\n  }\n\n  merge(board) {\n    return board.map((row) => {\n      const filtered = row.filter((n) => n !== 0);\n\n      for (let i = 0; i < filtered.length - 1; i++) {\n        if (filtered[i] === filtered[i + 1]) {\n          filtered[i] *= 2;\n          this.score += filtered[i];\n          filtered.splice(i + 1, 1);\n        }\n      }\n\n      while (filtered.length < 4) {\n        filtered.push(0);\n      }\n\n      return filtered;\n    });\n  }\n\n  transpose(board) {\n    return board[0].map((_, col) => board.map((row) => row[col]));\n  }\n\n  reverse(board) {\n    return board.map((row) => [...row].reverse());\n  }\n\n  copyBoard(board) {\n    return board.map((row) => [...row]);\n  }\n\n  addRandomTile() {\n    const empty = [];\n\n    for (let r = 0; r < 4; r++) {\n      for (let c = 0; c < 4; c++) {\n        if (this.board[r][c] === 0) {\n          empty.push({ r, c });\n        }\n      }\n    }\n\n    if (empty.length > 0) {\n      const { r, c } = empty[Math.floor(Math.random() * empty.length)];\n\n      this.board[r][c] = Math.random() < 0.9 ? 2 : 4;\n    }\n  }\n\n  has2048() {\n    return this.board.flat().includes(2048);\n  }\n\n  isGameOver() {\n    if (this.board.flat().includes(0)) {\n      return false;\n    }\n\n    for (let r = 0; r < 4; r++) {\n      for (let c = 0; c < 4; c++) {\n        const curr = this.board[r][c];\n\n        if (\n          (r < 3 && curr === this.board[r + 1][c]) ||\n          (c < 3 && curr === this.board[r][c + 1])\n        ) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n}\n\nmodule.exports = Game;\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n","import { _ as _array_without_holes } from \"./_array_without_holes.js\";\nimport { _ as _iterable_to_array } from \"./_iterable_to_array.js\";\nimport { _ as _non_iterable_spread } from \"./_non_iterable_spread.js\";\nimport { _ as _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nexport { _to_consumable_array as _ };\n","import { _ as _array_like_to_array } from \"./_array_like_to_array.js\";\n\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nexport { _array_without_holes as _ };\n","function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","function _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) {\n        return Array.from(iter);\n    }\n}\nexport { _iterable_to_array as _ };\n","function _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_spread as _ };\n","import { _ as _array_like_to_array } from \"./_array_like_to_array.js\";\n\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n","import { DOM } from './dom.js';\n\nlet lastBoard = [];\n\nexport function renderBoard(game) {\n  const board = game.getState();\n  const flatBoard = board.flat();\n  const flatLast = lastBoard.flat();\n\n  DOM.cells.forEach((cell, index) => {\n    const val = flatBoard[index];\n    const prev = flatLast[index];\n\n    cell.className = 'field-cell';\n\n    if (val) {\n      const digits = String(val).length;\n\n      cell.style.setProperty('--digits', digits);\n      cell.textContent = val;\n      cell.classList.add(`field-cell--${val}`);\n\n      if (prev === 0 && val !== 0) {\n        cell.classList.add('field-cell--new');\n      } else if (prev && val > prev) {\n        cell.classList.add('field-cell--merged');\n      }\n    } else {\n      cell.textContent = '';\n      cell.style.setProperty('--digits', 1);\n    }\n  });\n\n  lastBoard = board.map((row) => [...row]);\n\n  DOM.scoreSpan.textContent = game.getScore();\n  updateBest(game.getScore());\n  checkGameStatus(game);\n}\n\nexport function checkGameStatus(game) {\n  const gameStatus = game.getStatus();\n\n  if (gameStatus === 'win') {\n    showMessage('ðŸŽ‰ Winner! Congrats!');\n  } else if (gameStatus === 'lose') {\n    showMessage('You lose! Restart the game?');\n  } else {\n    hideMessage();\n  }\n}\n\nexport function showMessage(text) {\n  DOM.message.textContent = text;\n  DOM.messageBox.classList.remove('hidden');\n}\n\nexport function hideMessage() {\n  DOM.messageBox.classList.add('hidden');\n}\n\nexport function updateBest(score = 0) {\n  const bestScore = Number(localStorage.getItem('best-score')) || 0;\n\n  if (score > bestScore) {\n    localStorage.setItem('best-score', score);\n    DOM.bestSpan.textContent = score;\n  } else {\n    DOM.bestSpan.textContent = bestScore;\n  }\n}\n","import { game, restartGame } from '../core/gameManager.js';\nimport { renderBoard } from './render.js';\n\nexport function handleKeydown(e) {\n  const actions = {\n    ArrowLeft: 'moveLeft',\n    a: 'moveLeft',\n    ArrowRight: 'moveRight',\n    d: 'moveRight',\n    ArrowUp: 'moveUp',\n    w: 'moveUp',\n    ArrowDown: 'moveDown',\n    s: 'moveDown',\n    n: 'restart',\n    r: 'restart',\n  };\n\n  const action = actions[e.key];\n\n  if (!action) {\n    return;\n  }\n\n  if (action === 'restart') {\n    restartGame();\n\n    return;\n  }\n\n  if (game.getStatus() !== 'playing') {\n    return;\n  }\n\n  game[action]();\n  renderBoard(game);\n}\n\nlet touchStartX = 0;\nlet touchStartY = 0;\nconst SWIPE_THRESHOLD = 30;\n\nexport function handleTouchStart(e) {\n  const touch = e.touches[0];\n\n  touchStartX = touch.clientX;\n  touchStartY = touch.clientY;\n}\n\nexport function handleTouchEnd(e) {\n  const touch = e.changedTouches[0];\n  const deltaX = touch.clientX - touchStartX;\n  const deltaY = touch.clientY - touchStartY;\n\n  const absX = Math.abs(deltaX);\n  const absY = Math.abs(deltaY);\n\n  if (\n    Math.max(absX, absY) < SWIPE_THRESHOLD ||\n    game.getStatus() !== 'playing'\n  ) {\n    return;\n  }\n\n  if (absX > absY) {\n    if (deltaX > 0) {\n      game.moveRight();\n    } else {\n      game.moveLeft();\n    }\n  } else {\n    if (deltaY > 0) {\n      game.moveDown();\n    } else {\n      game.moveUp();\n    }\n  }\n\n  renderBoard(game);\n}\n"],"names":["a","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$aecf097799c7468e$export$cb0933279c36a66b","set","s","enumerable","configurable","cells","document","querySelectorAll","newGameButton","querySelector","tryAgainButton","scoreSpan","bestSpan","message","messageBox","themeToggleButton","htmlElement","documentElement","iconSun","iconMoon","$f0vaO","$3d28d7f1aac198f5$exports","$c3b10a83b523f372$export$71511d61b312f219","arr","len","length","i","arr2","Array","$227c6742e0ff6f82$export$71511d61b312f219","isArray","iter","Symbol","iterator","from","o","minLen","n","prototype","toString","slice","constructor","name","test","TypeError","protoProps","Game","initialState","arguments","instance","Constructor","copyBoard","board","score","status","key","value","addRandomTile","_this","performMove","merge","reverse","transposed","transpose","merged","reversed","restored","moveFn","prevBoard","areBoardsEqual","has2048","isGameOver","b1","b2","every","row","r","val","c","map","filtered","filter","splice","push","_","col","empty","_empty_Math_floor","Math","floor","random","r1","c1","flat","includes","curr","$4fc75ccb937ab1df$var$_defineProperties","target","props","descriptor","writable","$ecd9f0b56f346062$var$lastBoard","$ecd9f0b56f346062$export$ed9055c26739410b","game","gameStatus","getState","flatBoard","flatLast","DOM","forEach","cell","index","prev","className","digits","String","style","setProperty","textContent","classList","add","concat","getScore","$ecd9f0b56f346062$export$a0659029c09c6c24","bestScore","Number","localStorage","getItem","setItem","getStatus","$ecd9f0b56f346062$export$787f5d117f138d13","$ecd9f0b56f346062$export$4521d214801a3d3b","text","remove","$13a93d600d1f92c9$export$119d2a93e2780362","__esModule","default","$13a93d600d1f92c9$export$13063a66817085c1","restart","start","$7d99baaea0d38f94$var$touchStartX","$7d99baaea0d38f94$var$touchStartY","addEventListener","e","action","actions","ArrowLeft","ArrowRight","d","ArrowUp","w","ArrowDown","touch","touches","clientX","clientY","passive","changedTouches","deltaX","deltaY","absX","abs","absY","max","moveRight","moveLeft","moveDown","moveUp"],"version":3,"file":"index.d3ecf477.js.map"}